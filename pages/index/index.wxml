<view class="container">
  <!-- 加载提示 -->
  <view wx:if="{{!isPageReady}}" class="loading-container">
    <text>加载中...</text>
  </view>

  <!-- 主要内容 -->
  <view wx:else>
    <!-- 轮播图 -->
    <swiper class="swiper" autoplay="true" interval="3000" duration="800" indicator-dots="true" circular="true">
      <block wx:for="{{swiperList}}" wx:key="index">
        <swiper-item>
          <image src="{{item.imgUrl}}" class="swiper-image" data-url="{{item.link}}" bindtap="onSwiperTap"></image>
        </swiper-item>
      </block>
    </swiper>

    <view class="header">
      <text class="title">欢迎来到儿童健康成长系统</text>
    </view>

    <view class="menu">
      <block wx:if="{{userType === 'parent'}}">
        <navigator url="/pages/children/children" class="menu-item">
          <image src="/assets/icons/baby.png" class="icon" />
          <text class="menu-text">孩子信息</text>
        </navigator>
        <navigator url="/pages/diet/diet" class="menu-item">
          <image src="/assets/icons/food.png" class="icon" />
          <text class="menu-text">饮食记录</text>
        </navigator>
        <navigator url="/pages/exercise/exercise" class="menu-item">
          <image src="/assets/icons/run.png" class="icon" />
          <text class="menu-text">运动记录</text>
        </navigator>
        <navigator url="/pages/consult/consult" class="menu-item">
          <image src="/assets/icons/doctor.png" class="icon" />
          <text class="menu-text">智能问诊</text>
        </navigator>
        <navigator url="/pages/height/height" class="menu-item">
          <image src="/assets/icons/height.png" class="icon" />
          <text class="menu-text">身高曲线</text>
        </navigator>
        <navigator url="/pages/weight/weight" class="menu-item">
          <image src="/assets/icons/weight.png" class="icon" />
          <text class="menu-text">体重曲线</text>
        </navigator>
        <navigator url="/pages/report/report" class="menu-item">
          <image src="/assets/icons/info.png" class="icon" />
          <text class="menu-text">健康报告</text>
        </navigator>
      </block>

      <block wx:if="{{userType === 'doctor'}}">
        <navigator url="/pages/appointment/appointment" class="menu-item">
          <image src="/assets/icons/appointment.png" class="icon" />
          <text class="menu-text">查看预约</text>
        </navigator>
      </block>
    </view>
  </view>
</view>
